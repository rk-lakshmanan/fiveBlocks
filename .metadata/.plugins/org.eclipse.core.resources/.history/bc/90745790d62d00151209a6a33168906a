package edu.mit.blocks.workspace;

import java.util.Map;

public class MyBlock {
	private String genusName = null;
	private String globalCode = null;
	private String setupCode = null;
	private Map<String, String> globalVarSet;
	private String code = null;

	public MyBlock() {
		// TODO Auto-generated constructor stub
	}

	public String getGenusName() {
		return genusName;
	}

	public void setGenusName(String genusName) {
		this.genusName = genusName;
	}

	public String getGlobalCode() {
		return globalCode;
	}

	public void setGlobalCode(String globalCode) {
		this.globalCode = globalCode;
	}

	public String getSetupCode() {
		return setupCode;
	}

	public void setSetupCode(String setupCode) {
		this.setupCode = setupCode;
	}

	public Map<String, String> getGlobalVarSet() {
		return globalVarSet;
	}

	public void setGlobalVarSet(String globalCode) {
		int index = 0;
		String tempGC =new String("");
		tempGC += globalCode;
		tempGC.trim();
	while(true){
		if(tempGC.contains("float")){
			index = tempGC.indexOf("float");
			index += 5;
			tempGC = tempGC.substring(index, tempGC.length());
			int eqIndex = tempGC.indexOf('=');
			String globalVar  =tempGC.substring(0, eqIndex);
			tempGC = tempGC.substring(eqIndex+1,tempGC.length());
			int semiColonIndex = tempGC.indexOf(';') ;
			String globalVal = tempGC.substring(0,semiColonIndex );
			if(globalVarSet.containsKey(globalVar)){
				//TODO add code for throwing error
			}
			else{
				globalVarSet.put(globalVar, globalVal);
			}
	}
	else{
		break;
	}}
	
	}

	public String getCode() {
		return code;
	}

	public void setCode(String code) {
		this.code = code;
	}

}
