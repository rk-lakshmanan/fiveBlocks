package edu.mit.blocks.renderable;

import java.util.ArrayList;

import edu.mit.blocks.codeblocks.Block;
import edu.mit.blocks.workspace.BlockSave;
import edu.mit.blocks.workspace.MyBlock;
import edu.mit.blocks.workspace.Workspace;
import edu.mit.blocks.workspace.WorkspaceEnvironment;
//TODO:Shift this code to RenderableBlock/Refactor
public class BlockExplodeManager {

	private Workspace workspace;
	private WorkspaceEnvironment env;
	private RenderableBlock rootRBlock;
	private BlockSave blockSaveManager;
	public BlockExplodeManager(Workspace wkspace,RenderableBlock rblock){
		this.workspace = wkspace;
		this.env = wkspace.getEnv();
		this.rootRBlock = rblock;
		this.blockSaveManager = wkspace.getBlockSave();
	}
	public void explode(){
		MyBlock oriMyBlock = blockSaveManager.getMyBlock(oriRBlock.getGenus());
		ArrayList<Block> internalBlockList = oriMyBlock.getInternalBlockList();
		for(Block iBlock : internalBlockList){
			Block newIBlock = new Block(workspace,iBlock.getGenusName(),iBlock.getBlockLabel());
			RenderableBlock newRBlock = new RenderableBlock(workspace, rootRBlock.getParentWidget(), newIBlock.getBlockID());
		}
	}
}
